@use "sass:map";
@use "../mixins/_mixins" as mixins;

:root {
  // Font Families
  --ff-primary: 'Galaxie Copernicus', georgia, serif;
  --ff-secondary: 'Graphik', arial, sans-serif;
  --ff-utility: 'Graphik', arial, sans-serif;
  --ff-header: var(--ff-primary);
  --ff-body: var(--ff-utility);

  // Font Weight
  --fw-light: 300;
  --fw-normal: 400;
  --fw-medium: 500;
  --fw-bold: 700;
  --fw-heading: 500;
  --fw-body: var(--fw-normal);

  // Line Height
  --lh-body: 1.5;

  // Mobile and Tablet.
  --fs-h1: 2rem;     // 32px
  --fs-h2: 1.75rem;  // 28px
  --fs-h3: 1.625rem; // 26px
  --fs-h4: 1.5rem;   // 24px
  --fs-h5: 1.25rem;  // 20px
  --fs-h6: 1.125rem; // 18px

  // Body Font Size
  --fs-p00: 1.25rem; // 20px
  --fs-p0: 1.125rem; // 18px
  --fs-p1: 1rem;     // 16px
  --fs-p2: 1rem;     // 16px
  --fs-p3: 0.875rem;  // 14px
  --fs-p4: 0.75rem;  // 12px
}

//Tablet Overrides
@media all and (width >= 768px) {
  :root {
    --fs-p1: 1.25em;
  }
}

// Desktop Overrides
@media all and (width >= 1024px) {
  :root {
    --fs-h1: 3rem;     // 48px
    --fs-h2: 2.5rem;   // 40px
    --fs-h3: 2.25rem;  // 36px
    --fs-h4: 1.75rem;  // 28px
    --fs-h5: 1.5rem;   // 24px
    --fs-h6: 1.25rem;  // 20px
  }
}

/**
 * Typography list from Figma.
 *
 * A nested array by type and size. There can be a "default" size which will be
 * applied to all sizes.
 */
$typography: (
  display: (
    default: (
      font-family: var(--ff-primary),
    ),
    xl: (
      font-size: 68px,
      line-height: 76px,
      letter-spacing: -2.25px,
      breakpoints: (
        sm: (
          font-size: 42px,
          line-height: 56px,
        ),
      ),
    ),
    lg: (
      font-size: 64px,
      line-height: 72px,
      letter-spacing: -2px,
      breakpoints: (
        sm: (
          font-size: 36px,
          line-height: 48px,
        ),
      )
    ),
    md: (
      font-size: 54px,
      line-height: 62px,
      letter-spacing: -1.75px,
      breakpoints: (
        sm: (
          font-size: 36px,
          line-height: 48px,
        ),
      )
    ),
    sm: (
      font-size: 48px,
      line-height: 56px,
      letter-spacing: -1.5px,
      breakpoints: (
        sm: (
          font-size: 36px,
          line-height: 48px,
        ),
      )
    ),
  ),
  heading: (
    default: (
      font-family: var(--ff-primary),
    ),
    xl: (
      font-size: 40px,
      line-height: 52px,
      letter-spacing: -1.5px,
      breakpoints: (
        sm: (
          font-size: 28px,
          line-height: 36px,
        ),
      )
    ),
    lg: (
      font-size: 36px,
      line-height: 48px,
      letter-spacing: -1.5px,
      breakpoints: (
        sm: (
          font-size: 26px,
          line-height: 34px,
        ),
      )
    ),
    md: (
      font-size: 28px,
      line-height: 38px,
      letter-spacing: 1.25px,
      breakpoints: (
        sm: (
          font-size: 24px,
          line-height: 30px,
        ),
      )
    ),
    sm: (
      font-size: 24px,
      line-height: 34px,
      letter-spacing: -1px,
      breakpoints: (
        sm: (
          font-size: 20px,
          line-height: 28px,
        ),
      )
    ),
    xs: (
      font-size: 20px,
      line-height: 28px,
      letter-spacing: -0.5px,
      breakpoints: (
        sm: (
          font-size: 18px,
          line-height: 26px,
        ),
      )
    ),
  ),
  body: (
    default: (
      font-family: var(--ff-secondary),
    ),
    xl: (
      font-size: 20px,
      line-height: 28px,
    ),
    lg: (
      font-size: 18px,
      line-height: 26px,
    ),
    md: (
      font-size: 16px,
      line-height: 24px,
    ),
    sm: (
      font-size: 14px,
      line-height: 20px,
    ),
  ),
);

/**
 * @param $type
 *   Type, e.g. "display", "heading", "body".
 *
 * @param $size
 *   Size, e.g. "xl", "lg", "xs".
 */
@mixin text($type, $size) {
  $size_map: map.get(map.get($typography, $type), $size);

  @if (map.has-key($size_map, 'breakpoints')) {
    $breakpoints: map.get($size_map, 'breakpoints');

    @each $bp_size, $bp_props in $breakpoints {
      @include mixins.breakpoint-max($bp_size) {
        @each $bp_prop, $bp_value in $bp_props {
          #{$bp_prop}: #{$bp_value};
        }
      }
    }
  }

  @each $prop, $value in $size_map {
    @if ($prop != 'breakpoints') {
      #{$prop}: #{$value};
    }
  }
}

// Creates a class for each combination in $typography map
// .text-heading-lg
// .text-display-xl
// .text-heading-xl-it
@each $category, $sizes in $typography {
  @each $size, $css in $sizes {
    @if ($size != 'default') {
      @debug "<p class='text-#{$category}-#{$size}'>#{$category} #{$size}</p>";
      .text-#{$category}-#{$size} {
        @include text($category, 'default');
        @include text($category, $size);
      }

      //@debug "<p class='text-#{$category}-#{$size}-it'>#{$category} #{$size} it</p>";
      .text-#{$category}-#{$size}-it {
        @include text($category, 'default');
        @include text($category, $size);
        font-style: italic;
      }
    }
  }
}

// Body class is the same as "md" just without the key.
.text-body {
  @include text('body', 'md');
}

.text-utility-eyebrow {
  @include text('body', 'md');
  font-weight: var(--fw-medium);
  letter-spacing: 1.75px;
}

.text-utility-link {
  @include text('body', 'md');
  font-weight: var(--fw-medium);
  font-style: italic;
  text-decoration: underline;
}

.text-utility-link-sm {
  @include text('body', 'sm');
  font-style: italic;
  text-decoration: underline;
}

.text-utility-link-standalone {
  @include text('body', 'sm');
  font-weight: var(--fw-medium);
  text-decoration: underline;
}

.text-utility-button {
  @include text('body', 'sm');
  font-size: 14px;
  line-height: 20px;
}

.text-utility-legal {
  @include text('body', 'md');
  font-size: 12px;
  line-height: 18px;
}
